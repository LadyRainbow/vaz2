<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Жигули2</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
    <link rel="stylesheet" href="../../build/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
    <link rel="stylesheet" href="../../build/css/style.css">
</head>
<body class="">
    <div class="app">
        <div class="header-wrapper">
            <!-- FileInjector:header -->
        </div>
        <div class="menu-wrapper">
            <!-- FileInjector:menu -->
        </div>
        <div class="pages-wrapper">
            <!-- FileInjector:pagesContent -->
        </div>
        <div class="footer-wrapper">
            <!-- FileInjector:footer -->
        </div>
        <div class="pop-up-overlay-wrapper">
            <div class="overlay-pop-up"></div>
            <!-- FileInjector:popup -->
        </div>
    </div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="https://npmcdn.com/masonry-layout@4.0/dist/masonry.pkgd.min.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey=3607fc15-d35a-4f29-b7a9-b8cb92c549de" type="text/javascript"></script>

    <script src="../../build/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/vh-check/dist/vh-check.min.js"></script>
    <script src="../../build/js/jquery.maskedinput.min.js"></script>
    <script src="../../build/js/customSelect.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
    <script src="../../build/js/main.js"></script>
    <script type="text/javascript">
        function validation (a) {
            var form = $(a);
            var url = form.attr('action');
            var method = form.attr('method');
            var error = 0;

            $(form).find('.input-valid').each(function() {
                    var str = $(this).val();
                    var value = $.trim(str);

                    if($(this).hasClass('optional')) {
                        return true;
                    } else {
                        if(!value || value == 'none'){
                            $(this).closest('.input-style').addClass('error');
                            $(this).closest('.input-style').find('.input-error').html('заполните поле');
                            error = 1;
                        }
                        else {
                            var str_length = value.length;
                            if($(this).attr('data-input') == 'name'){
                                if(str_length < 2 || str_length > 36){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                }
                                else {
                                    var regex = new RegExp(/^[а-яА-ЯёЁa-zA-Z\s]*$/);
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                        $(this).closest('.input-style').find('.input-error').html('вводите только буквы');
                                    }
                                    else{
                                        $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'email'){
                                if(str_length < 3 || str_length > 64){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                }
                                else {
                                    var regex = new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                        $(this).closest('.input-style').find('.input-error').html('неверный формат email');
                                    }
                                    else{
                                        $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'age'){
                                if(str_length < 1 || str_length > 3){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                }
                                else {
                                    var regex = /^[0-9]*$/;
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                    }
                                    else{
                                        var age = Number(value);
                                        if(age < 16 || age > 125){
                                            error = 1;
                                            $(this).closest('.input-style').addClass('error');
                                        }
                                        else{
                                            $(this).closest('.input-style').removeClass('error');
                                        }
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'count'){
                                if(str_length < 1 || str_length > 100){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                    $(this).closest('.input-style').find('.input-error').html('проверьте количество цифр');
                                }
                                else {
                                    var regex = /^(?!0.*$)([0-9]{1,12})$/;
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                        $(this).closest('.input-style').find('.input-error').html('вводите только цифры');
                                    }
                                    else{
                                        $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'phone'){
                                if(str_length < 6 || str_length > 20){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                    $(this).closest('.input-style').find('.input-error').html('неверный формат телефона');
                                }
                                else {
                                    var regex = new RegExp(/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){6,15}(\s*)?$/);
                                    if (regex.test(value) == false) {
                                        $(this).closest('.input-style').addClass('error');
                                        $(this).closest('.input-style').find('.input-error').html('неверный формат телефона');
                                        error = 1;
                                    }
                                    else {
                                      $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'social_link'){
                                if(str_length < 10 || str_length > 80){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                }
                                else {
                                    var regex = new RegExp(/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i);
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                    }
                                    else{
                                        $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'birthday'){
                                if(str_length !== 10){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                }
                                else {
                                    var regex = new RegExp(/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/);
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                    }
                                    else{
                                        $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                            if($(this).attr('data-input') == 'password'){
                                if(str_length < 8 || str_length > 20){
                                    error = 1;
                                    $(this).closest('.input-style').addClass('error');
                                    $(this).closest('.input-style').find('.input-error').html('пароль должен содержить от 8 до 20 символов');
                                }
                                else {
                                    var regex = new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=(.*[a-zA-Z]){4}).{8,20}$/i);
                                    if(regex.test(value) == false) {
                                        error = 1;
                                        $(this).closest('.input-style').addClass('error');
                                        $(this).closest('.input-style').find('.input-error').html('пароль должен содержать латинские буквы и/или цифры');
                                    }
                                    else{
                                        $(this).closest('.input-style').removeClass('error');
                                    }
                                }
                            }
                        }
                    }
               });
            if(error) {
                return 1
            } else {
                return 0;
              };
        };
    </script>
</body>
</html>
